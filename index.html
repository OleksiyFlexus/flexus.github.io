<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Високоскладний тест з плитки - Telegram WebApp</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0; padding: 20px;
      background: var(--tg-theme-bg-color, #fff);
      color: var(--tg-theme-text-color, #000);
      min-height: 100vh;
      box-sizing: border-box;
    }
    #app {
      max-width: 700px;
      margin: 0 auto;
    }
    h1 {
      font-size: 1.6em;
      margin-bottom: 15px;
    }
    .question p {
      font-weight: bold;
      font-size: 1.1em;
    }
    .options label {
      display: block;
      margin: 8px 0;
      cursor: pointer;
      user-select: none;
    }
    input[type="radio"] {
      margin-right: 8px;
      cursor: pointer;
    }
    .feedback {
      margin-top: 10px;
      font-weight: bold;
      font-size: 1em;
      padding: 8px 12px;
      border-radius: 6px;
      width: fit-content;
    }
    .correct {
      color: #155724;
      background-color: #d4edda;
      border: 1px solid #c3e6cb;
    }
    .incorrect {
      color: #721c24;
      background-color: #f8d7da;
      border: 1px solid #f5c6cb;
    }
    button {
      background-color: var(--tg-theme-button-color, #0088cc);
      color: var(--tg-theme-button-text-color, #fff);
      border: none;
      padding: 10px 15px;
      font-size: 1em;
      border-radius: 6px;
      cursor: pointer;
      margin-top: 20px;
    }
    button:disabled {
      background-color: #999;
      cursor: not-allowed;
    }
    .result {
      font-size: 1.2em;
      font-weight: bold;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <div id="app">
    <h1>Високоскладний тест з плитки</h1>

    <div v-if="!quizCompleted">
      <p>Питання {{ currentQuestion + 1 }} / {{ questions.length }}</p>
      <div class="question">
        <p>{{ questions[currentQuestion].text }}</p>
        <div class="options">
          <label v-for="(option, idx) in questions[currentQuestion].options" :key="idx" :class="{disabled: answered}">
            <input 
              type="radio" 
              :value="idx" 
              v-model="userAnswers[currentQuestion]" 
              :disabled="answered"
              @change="checkAnswer(idx)" 
            />
            {{ option }}
          </label>
        </div>
        <div v-if="answered" 
             :class="{'feedback': true, 'correct': isAnswerCorrect, 'incorrect': !isAnswerCorrect}">
          {{ isAnswerCorrect ? 'Правильно!' : 'Неправильно!' }}
        </div>
      </div>
      <button 
        :disabled="!answered" 
        @click="nextOrSubmit">
        {{ currentQuestion < questions.length -1 ? 'Наступне питання' : 'Завершити тест' }}
      </button>
    </div>

    <div v-else class="result">
      <p>Ваш результат: {{ score }} / {{ questions.length }}</p>
      <button @click="restartQuiz">Почати заново</button>
    </div>
  </div>

  <script>
    const { createApp } = Vue;

    createApp({
      data() {
        return {
          questions: [
            {
              text: 'Який метод знижує водопоглинання плитки шляхом ущільнення структури під час випалу?',
              options: [
                'А. Високотемпературний випал',
                'Б. Холодне пресування',
                'В. Глазурування',
                'Г. Ректифікація країв'
              ],
              correct: 0
            },
            {
              text: 'Що характеризує порцелянову плитку у порівнянні з керамічною?',
              options: [
                'А. Вища пористість',
                'Б. Нижчий коефіцієнт водопоглинання',
                'В. Менша твердість',
                'Г. Вища теплопровідність'
              ],
              correct: 1
            },
            {
              text: 'Яка основна функція глазурі на керамічній плитці?',
              options: [
                'А. Покращення теплоізоляції',
                'Б. Захист від механічних пошкоджень',
                'В. Збільшення пористості поверхні',
                'Г. Зменшення ваги плитки'
              ],
              correct: 1
            },
            {
              text: 'Що таке ректифікація плитки?',
              options: [
                'А. Механічне обрізання країв для точної геометрії',
                'Б. Нанесення додаткової глазурі',
                'В. Полірування поверхні',
                'Г. Виробництво мозаїчної плитки'
              ],
              correct: 0
            },
            {
              text: 'Яка властивість керамограніту робить його придатним для зовнішнього облицювання?',
              options: [
                'А. Висока пористість',
                'Б. Морозостійкість',
                'В. Низька міцність',
                'Г. Поглинання вологи'
              ],
              correct: 1
            },
            {
              text: 'Що таке технічний грес?',
              options: [
                'А. Глазурована плитка з декоративним малюнком',
                'Б. Плитка з високою міцністю та низьким водопоглинанням',
                'В. Плитка для внутрішніх стін',
                'Г. Мозаїчна плитка'
              ],
              correct: 1
            },
            {
              text: 'Який процес полягає у нанесенні кольорового шару перед випаленням?',
              options: [
                'А. Глазурування',
                'Б. Декорування',
                'В. Керамізація',
                'Г. Полірування'
              ],
              correct: 1
            },
            {
              text: 'Який інструмент найчастіше використовують для різання керамічної плитки?',
              options: [
                'А. Плиткоріз',
                'Б. Лазерний різак',
                'В. Болгарка',
                'Г. Рубанок'
              ],
              correct: 0
            },
            {
              text: 'Який показник характеризує твердість поверхні плитки?',
              options: [
                'А. ПЕІ клас',
                'Б. Коефіцієнт тертя',
                'В. Водопоглинання',
                'Г. Товщина плитки'
              ],
              correct: 0
            },
            {
              text: 'Що таке мозаїчна плитка?',
              options: [
                'А. Плитка з металу',
                'Б. Маленькі шматочки плитки для створення візерунків',
                'В. Велика плитка для підлоги',
                'Г. Плитка для стелі'
              ],
              correct: 1
            },
            {
              text: 'Як визначається морозостійкість плитки?',
              options: [
                'А. За ступенем водопоглинання',
                'Б. За товщиною плитки',
                'В. За кольором глазурі',
                'Г. За глянцем поверхні'
              ],
              correct: 0
            },
            {
              text: 'Що знижує ковзання плитки?',
              options: [
                'А. Глянцева поверхня',
                'Б. Структурована або матова поверхня',
                'В. Більша товщина',
                'Г. Високий ПЕІ клас'
              ],
              correct: 1
            },
            {
              text: 'Яке покриття застосовують для підлоги з підвищеним навантаженням?',
              options: [
                'А. Керамограніт',
                'Б. Скляна плитка',
                'В. Глазурована кераміка',
                'Г. Мозаїка'
              ],
              correct: 0
            },
            {
              text: 'Що впливає на морозостійкість плитки?',
              options: [
                'А. Висока щільність матеріалу',
                'Б. Колір плитки',
                'В. Глянцева глазур',
                'Г. Товщина глазурі'
              ],
              correct: 0
            },
            {
              text: 'Як називається процес полірування поверхні плитки?',
              options: [
                'А. Шліфування',
                'Б. Ламінування',
                'В. Глазурування',
                'Г. Ректифікація'
              ],
              correct: 0
            },
            {
              text: 'Який тип плитки має найнижче водопоглинання?',
              options: [
                'А. Керамічна плитка',
                'Б. Пориста плитка',
                'В. Порцелянова плитка',
                'Г. Скляна плитка'
              ],
              correct: 2
            },
            {
              text: 'Який матеріал застосовують для підвищення міцності плитки?',
              options: [
                'А. Кварцовий пісок',
                'Б. Полімерні добавки',
                'В. Металеві включення',
                'Г. Органічні барвники'
              ],
              correct: 1
            },
            {
              text: 'Що таке глазурована плитка?',
              options: [
                'А. Плитка з нанесеним захисним шаром',
                'Б. Плитка без кольорового покриття',
                'В. Плитка з пористою поверхнею',
                'Г. Плитка з металевим блиском'
              ],
              correct: 0
            },
            {
              text: 'Як впливає товщина плитки на її міцність?',
              options: [
                'А. Чим товща, тим міцніша',
                'Б. Чим тонша, тим міцніша',
                'В. Товщина не впливає',
                'Г. Залежить від типу матеріалу'
              ],
              correct: 3
            },
            {
              text: 'Що таке ПЕІ клас плитки?',
              options: [
                'А. Визначає морозостійкість',
                'Б. Визначає твердість поверхні',
                'В. Визначає водопоглинання',
                'Г. Визначає глянцевість'
              ],
              correct: 1
            },
            {
              text: 'Який процес підвищує стійкість плитки до стирання?',
              options: [
                'А. Глазурування',
                'Б. Ректифікація',
                'В. Ламінування',
                'Г. Полірування'
              ],
              correct: 0
            },
            {
              text: 'Як називається плитка, виготовлена із суміші глини, піску і каоліну?',
              options: [
                'А. Керамічна плитка',
                'Б. Порцелянова плитка',
                'В. Клінкерна плитка',
                'Г. Скляна плитка'
              ],
              correct: 1
            },
            {
              text: 'Що визначає коефіцієнт тертя плитки?',
              options: [
                'А. Стійкість до ковзання',
                'Б. Водопоглинання',
                'В. Колір плитки',
                'Г. Товщина плитки'
              ],
              correct: 0
            },
            {
              text: 'Для чого застосовують мозаїчну плитку?',
              options: [
                'А. Для декоративних візерунків',
                'Б. Для підлог з високим навантаженням',
                'В. Для утеплення',
                'Г. Для стін ванних кімнат'
              ],
              correct: 0
            },
            {
              text: 'Який метод випалу використовується для керамограніту?',
              options: [
                'А. Випал при низьких температурах',
                'Б. Випал при високих температурах',
                'В. Випал без глазурування',
                'Г. Холодне пресування'
              ],
              correct: 1
            }
          ],
          currentQuestion: 0,
          userAnswers: [],
          quizCompleted: false,
          score: 0,
          answered: false,
          isAnswerCorrect: false,
        }
      },
      methods: {
        checkAnswer(selectedIdx) {
          this.answered = true;
          this.isAnswerCorrect = selectedIdx === this.questions[this.currentQuestion].correct;
          this.userAnswers[this.currentQuestion] = selectedIdx;
        },
        nextOrSubmit() {
          if (!this.answered) return;
          if (this.currentQuestion < this.questions.length - 1) {
            this.currentQuestion++;
            this.answered = false;
            this.isAnswerCorrect = false;
          } else {
            this.calculateScore();
            this.quizCompleted = true;
          }
        },
        calculateScore() {
          this.score = this.questions.reduce((acc, q, idx) => acc + (this.userAnswers[idx] === q.correct ? 1 : 0), 0);
        },
        restartQuiz() {
          this.currentQuestion = 0;
          this.userAnswers = [];
          this.quizCompleted = false;
          this.score = 0;
          this.answered = false;
          this.isAnswerCorrect = false;
        }
      },
      mounted() {
        if(window.Telegram && window.Telegram.WebApp){
          Telegram.WebApp.ready();
          Telegram.WebApp.expand();
        }
      }
    }).mount('#app');
  </script>
</body>
</html>
